"use strict";var _interopRequireDefault3 = require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireDefault2 = _interopRequireDefault3(require("@babel/runtime/helpers/interopRequireDefault"));Object.defineProperty(exports, "__esModule", { value: true });var _mongoose = require("mongoose");var mongoose = (0, _interopRequireDefault2["default"])(_mongoose)["default"];
var _ejson = require("ejson");var EJSON = (0, _interopRequireDefault2["default"])(_ejson)["default"];

var Schema = new mongoose.Schema({
  type: {
    type: String,
    required: true },

  collectionName: {
    type: String,
    required: false },

  arguments: {
    type: String,
    get: function get(data) {
      try {
        return EJSON.parse(data);
      } catch (e) {
        return data;
      }
    },
    set: function set(data) {
      return EJSON.stringify(data);
    } },

  state: {
    type: String,
    get: function get(data) {
      try {
        return EJSON.parse(data);
      } catch (e) {
        return data;
      }
    },
    set: function set(data) {
      return EJSON.stringify(data);
    } },

  date: {
    type: Date } },

{ capped: { size: 100000000, max: 100000 } });

var ObserveLogs = mongoose.model('observeLogs', Schema);exports["default"] =
ObserveLogs;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9PYnNlcnZlTG9ncy5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIkVKU09OIiwiU2NoZW1hIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY29sbGVjdGlvbk5hbWUiLCJhcmd1bWVudHMiLCJnZXQiLCJkYXRhIiwicGFyc2UiLCJlIiwic2V0Iiwic3RyaW5naWZ5Iiwic3RhdGUiLCJkYXRlIiwiRGF0ZSIsImNhcHBlZCIsInNpemUiLCJtYXgiLCJPYnNlcnZlTG9ncyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiZ1JBQUEsb0MsSUFBT0EsUTtBQUNQLDhCLElBQU9DLEs7O0FBRVAsSUFBTUMsTUFBTSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0UsTUFBYixDQUFvQjtBQUMvQkMsRUFBQUEsSUFBSSxFQUFDO0FBQ0RBLElBQUFBLElBQUksRUFBRUMsTUFETDtBQUVEQyxJQUFBQSxRQUFRLEVBQUUsSUFGVCxFQUQwQjs7QUFLL0JDLEVBQUFBLGNBQWMsRUFBQztBQUNYSCxJQUFBQSxJQUFJLEVBQUNDLE1BRE07QUFFWEMsSUFBQUEsUUFBUSxFQUFDLEtBRkUsRUFMZ0I7O0FBUy9CRSxFQUFBQSxTQUFTLEVBQUU7QUFDUEosSUFBQUEsSUFBSSxFQUFFQyxNQURDO0FBRVBJLElBQUFBLEdBQUcsRUFBRSxhQUFTQyxJQUFULEVBQWU7QUFDaEIsVUFBSTtBQUNBLGVBQU9SLEtBQUssQ0FBQ1MsS0FBTixDQUFZRCxJQUFaLENBQVA7QUFDSCxPQUZELENBRUUsT0FBTUUsQ0FBTixFQUFTO0FBQ1AsZUFBT0YsSUFBUDtBQUNIO0FBQ0osS0FSTTtBQVNQRyxJQUFBQSxHQUFHLEVBQUUsYUFBU0gsSUFBVCxFQUFlO0FBQ2hCLGFBQU9SLEtBQUssQ0FBQ1ksU0FBTixDQUFnQkosSUFBaEIsQ0FBUDtBQUNILEtBWE0sRUFUb0I7O0FBc0IvQkssRUFBQUEsS0FBSyxFQUFFO0FBQ0hYLElBQUFBLElBQUksRUFBRUMsTUFESDtBQUVISSxJQUFBQSxHQUFHLEVBQUUsYUFBU0MsSUFBVCxFQUFlO0FBQ2hCLFVBQUk7QUFDQSxlQUFPUixLQUFLLENBQUNTLEtBQU4sQ0FBWUQsSUFBWixDQUFQO0FBQ0gsT0FGRCxDQUVFLE9BQU1FLENBQU4sRUFBUztBQUNQLGVBQU9GLElBQVA7QUFDSDtBQUNKLEtBUkU7QUFTSEcsSUFBQUEsR0FBRyxFQUFFLGFBQVNILElBQVQsRUFBZTtBQUNoQixhQUFPUixLQUFLLENBQUNZLFNBQU4sQ0FBZ0JKLElBQWhCLENBQVA7QUFDSCxLQVhFLEVBdEJ3Qjs7QUFtQy9CTSxFQUFBQSxJQUFJLEVBQUM7QUFDRFosSUFBQUEsSUFBSSxFQUFDYSxJQURKLEVBbkMwQixFQUFwQjs7QUFzQ1osRUFBQ0MsTUFBTSxFQUFFLEVBQUVDLElBQUksRUFBRSxTQUFSLEVBQW1CQyxHQUFHLEVBQUUsTUFBeEIsRUFBVCxFQXRDWSxDQUFmOztBQXdDQSxJQUFNQyxXQUFXLEdBQUdwQixRQUFRLENBQUNxQixLQUFULENBQWUsYUFBZixFQUE2Qm5CLE1BQTdCLENBQXBCLEM7QUFDZWtCLFciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IEVKU09OIGZyb20gJ2Vqc29uJztcblxuY29uc3QgU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgdHlwZTp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGNvbGxlY3Rpb25OYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOmZhbHNlXG4gICAgfSxcbiAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIEVKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIEVKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGF0ZTp7XG4gICAgICAgIHR5cGU6RGF0ZVxuICAgIH1cbn0sIHtjYXBwZWQ6IHsgc2l6ZTogMTAwMDAwMDAwLCBtYXg6IDEwMDAwMCB9fSk7XG5cbmNvbnN0IE9ic2VydmVMb2dzID0gbW9uZ29vc2UubW9kZWwoJ29ic2VydmVMb2dzJyxTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgT2JzZXJ2ZUxvZ3M7Il19