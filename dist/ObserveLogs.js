"use strict";var _interopRequireDefault3 = require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireDefault2 = _interopRequireDefault3(require("@babel/runtime/helpers/interopRequireDefault"));Object.defineProperty(exports, "__esModule", { value: true });var _mongoose = require("mongoose");var mongoose = (0, _interopRequireDefault2["default"])(_mongoose)["default"];
var _ejson = require("ejson");var EJSON = (0, _interopRequireDefault2["default"])(_ejson)["default"];

var Schema = new mongoose.Schema({
  type: {
    type: String,
    required: true
  },
  collectionName: {
    type: String,
    required: false
  },
  arguments: {
    type: String,
    get: function get(data) {
      try {
        return EJSON.parse(data);
      } catch (e) {
        return data;
      }
    },
    set: function set(data) {
      return EJSON.stringify(data);
    }
  },
  state: {
    type: String,
    get: function get(data) {
      try {
        return EJSON.parse(data);
      } catch (e) {
        return data;
      }
    },
    set: function set(data) {
      return EJSON.stringify(data);
    }
  },
  date: {
    type: Date
  }
}, { capped: { size: 100000000, max: 100000 } });

var ObserveLogs = mongoose.model('observeLogs', Schema);exports["default"] =
ObserveLogs;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJyZXF1aXJlIiwibW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0MiIsIl9lanNvbiIsIkVKU09OIiwiU2NoZW1hIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY29sbGVjdGlvbk5hbWUiLCJhcmd1bWVudHMiLCJnZXQiLCJkYXRhIiwicGFyc2UiLCJlIiwic2V0Iiwic3RyaW5naWZ5Iiwic3RhdGUiLCJkYXRlIiwiRGF0ZSIsImNhcHBlZCIsInNpemUiLCJtYXgiLCJPYnNlcnZlTG9ncyIsIm1vZGVsIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uL3NyYy9PYnNlcnZlTG9ncy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IEVKU09OIGZyb20gJ2Vqc29uJztcblxuY29uc3QgU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgdHlwZTp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGNvbGxlY3Rpb25OYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOmZhbHNlXG4gICAgfSxcbiAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIEVKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIEVKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGF0ZTp7XG4gICAgICAgIHR5cGU6RGF0ZVxuICAgIH1cbn0sIHtjYXBwZWQ6IHsgc2l6ZTogMTAwMDAwMDAwLCBtYXg6IDEwMDAwMCB9fSk7XG5cbmNvbnN0IE9ic2VydmVMb2dzID0gbW9uZ29vc2UubW9kZWwoJ29ic2VydmVMb2dzJyxTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgT2JzZXJ2ZUxvZ3M7Il0sIm1hcHBpbmdzIjoiZ1JBQUEsSUFBQUEsU0FBQSxHQUFBQyxPQUFBLGFBQWdDLElBQXpCQyxRQUFRLE9BQUFDLHVCQUFBLGFBQUFILFNBQUE7QUFDZixJQUFBSSxNQUFBLEdBQUFILE9BQUEsVUFBMEIsSUFBbkJJLEtBQUssT0FBQUYsdUJBQUEsYUFBQUMsTUFBQTs7QUFFWixJQUFNRSxNQUFNLEdBQUcsSUFBSUosUUFBUSxDQUFDSSxNQUFNLENBQUM7RUFDL0JDLElBQUksRUFBQztJQUNEQSxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ2QsQ0FBQztFQUNEQyxjQUFjLEVBQUM7SUFDWEgsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQztFQUNiLENBQUM7RUFDREUsU0FBUyxFQUFFO0lBQ1BKLElBQUksRUFBRUMsTUFBTTtJQUNaSSxHQUFHLEVBQUUsU0FBQUEsSUFBU0MsSUFBSSxFQUFFO01BQ2hCLElBQUk7UUFDQSxPQUFPUixLQUFLLENBQUNTLEtBQUssQ0FBQ0QsSUFBSSxDQUFDO01BQzVCLENBQUMsQ0FBQyxPQUFNRSxDQUFDLEVBQUU7UUFDUCxPQUFPRixJQUFJO01BQ2Y7SUFDSixDQUFDO0lBQ0RHLEdBQUcsRUFBRSxTQUFBQSxJQUFTSCxJQUFJLEVBQUU7TUFDaEIsT0FBT1IsS0FBSyxDQUFDWSxTQUFTLENBQUNKLElBQUksQ0FBQztJQUNoQztFQUNKLENBQUM7RUFDREssS0FBSyxFQUFFO0lBQ0hYLElBQUksRUFBRUMsTUFBTTtJQUNaSSxHQUFHLEVBQUUsU0FBQUEsSUFBU0MsSUFBSSxFQUFFO01BQ2hCLElBQUk7UUFDQSxPQUFPUixLQUFLLENBQUNTLEtBQUssQ0FBQ0QsSUFBSSxDQUFDO01BQzVCLENBQUMsQ0FBQyxPQUFNRSxDQUFDLEVBQUU7UUFDUCxPQUFPRixJQUFJO01BQ2Y7SUFDSixDQUFDO0lBQ0RHLEdBQUcsRUFBRSxTQUFBQSxJQUFTSCxJQUFJLEVBQUU7TUFDaEIsT0FBT1IsS0FBSyxDQUFDWSxTQUFTLENBQUNKLElBQUksQ0FBQztJQUNoQztFQUNKLENBQUM7RUFDRE0sSUFBSSxFQUFDO0lBQ0RaLElBQUksRUFBQ2E7RUFDVDtBQUNKLENBQUMsRUFBRSxFQUFDQyxNQUFNLEVBQUUsRUFBRUMsSUFBSSxFQUFFLFNBQVMsRUFBRUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQzs7QUFFOUMsSUFBTUMsV0FBVyxHQUFHdEIsUUFBUSxDQUFDdUIsS0FBSyxDQUFDLGFBQWEsRUFBQ25CLE1BQU0sQ0FBQyxDQUFDb0IsT0FBQTtBQUMxQ0YsV0FBVyJ9